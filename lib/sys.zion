module sys @0.1
get posix

# TODO: make module variable initialization deterministic
var args [str]

def exit(code int)
	print("Quitting with code " + code)
	posix.exit(code.raw)

def set_args(argc int32_t, argv **char_t)
	i := 0r
	while i < argc
		vector.append(args, __box__(argv[i]))
		i += 1r
