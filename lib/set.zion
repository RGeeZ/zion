import map {Map}
export {Set}

newtype Set a = Set(Map a ())

instance HasInsertableItems (Set a) a {
    fn insert(set, value) {
        let Set(map) = set
        map[value] = ()
    }
}

instance HasSetMembership (Set a) a {
    fn in(a, set) Bool {
        let Set(map) = set
        return a in map
    }
    fn not_in(a, set) Bool {
        let Set(map) = set
        return a not in map
    }
}

instance HasDefault (Set a) {
    fn new() {
        return Set({})
    }
}
