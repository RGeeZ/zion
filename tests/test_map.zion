module _
# test: pass
# expect: 12
# expect: 13
# expect: deleted hello
# expect: 15
# expect: could not find hello

def main()
	var m {str: int?}

	m["hello"] = Just(12)
	when get(m, "hello", Just(0)) is
		Just(x)
			print(x)
		Empty
			print(0)
	m["hello"] = Just(13)
	print(m["hello"] or 14)
	if del(m, "hello")
		print("deleted hello")
	print(m["hello"] or 15)
	if not del(m, "hello")
		print("could not find hello")
