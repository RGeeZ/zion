module _
# test: pass
# expect: 12
# expect: 13
# expect: deleted hello
# expect: 15
# expect: could not find hello

def main()
    var m {str: int?}

    m["hello"] = Just(12)
    match get(m, "hello", Just(0))
        Just(x)
            print(x)
        Empty
            print(0)
    m["hello"] = Just(13)
    match m["hello"]
        Just(Just(x))
            print(x)
        Just(Empty)
            pass
        Empty
            pass

    if del(m, "hello")
        print("deleted hello")
