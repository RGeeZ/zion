module _
# test: pass
# expect: 56
# expect: 16
# expect: 24

type __Value__ struct
	var size __int64__
	var name *__char__
	var typeinfo *__TypeInfo__

type __TypeInfo__ struct
	var typeid __typeid__
	var addref *def (v *__Value__) void
	var release *def (v *__Value__) void

def addref(v *__Value__) void
	pass

def release(v *__Value__) void
	pass

type __TwoInts__ struct
	var x __int__
	var y __int__

type TwoInts has
	var x int
	var y int

def main()
	# With standard aligned sizeof we get some extra padding for the managed
	# types
	print(sizeof(__TwoInts__))  # 16
	print(sizeof(TwoInts))      # 56
	print(sizeof(__TypeInfo__)) # 24

