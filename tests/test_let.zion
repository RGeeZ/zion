# test: pass, noprelude
# expect: 1000

class Getter a {
    fn getter() a
}

instance Getter Int {
    fn getter() => 1000
}

fn use_getter() => getter()
fn g(n) => f(n)
fn f(n) {
    return n <= 2 ? 1 : (g(n-1) + g(n-2))
}
fn main() {
    _ := f(4)
    __builtin_print_int(use_getter())
}
