module _
get file
get os
get sys

# test: pass
# expect: This text should appear

fn main() {
    f := file.open("tests/test_read_file.zion", "r")
    while true {
        match readline(f) {
            Line(line) {
                print(line)
            }
            EOF {
                break
            }
            Error(_) {
                break
            }
        }
    }
    file.close(f)
    runtime.gc()
}
