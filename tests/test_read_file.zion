module _
get file
get os
get sys

# test: pass
# expect: This text should appear

def main()
	f := file.open("tests/test_read_file.zion", "r")
	while true
		line := file.readline(f)
		when line
			is str
				print(line)
			is file.EOF
				break
			is file.Error
				print("error " + line.errno + " encountered")
				break
	file.close(f)
	runtime.gc()
