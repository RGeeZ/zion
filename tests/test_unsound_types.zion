module _

type Animal is {
    Dog
    Cat
    Pig
    Alien
}

[global]
def str(a Animal) str {
    match a {
        Dog {
            return "Dog"
        }
        Cat {
            return "Cat"
        }
        Pig {
            return "Pig"
        }
        Alien {
            return "Alien"
        }
    }
}

type CatDog is {
    Cat
    Dog
}

def add_pig(animals [Animal]) {
    append(animals, Pig)
}

def main() {
    var cats_and_dogs [CatDog]

    # error: reference to an overloaded variable Cat was found
    append(cats_and_dogs, Cat)
}
