module _
get file
# test: pass
# expect: opened tests/test_if_finalizer.zion as fp

def main()
	filename := "tests/test_if_finalizer.zion"
	f := file.open(filename, "r")
	state := f.state
	when state
		is file.Open
			print("opened " + filename + " as fp " + str(state.fp! as int_t))
		else
			print("unable to open " + filename)
